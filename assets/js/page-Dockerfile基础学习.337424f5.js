(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{790:function(e,r,a){"use strict";a.r(r);var s=a(1),t=Object(s.a)({},(function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"dockerfile基础学习"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile基础学习"}},[e._v("#")]),e._v(" Dockerfile基础学习")]),e._v(" "),a("p",[e._v("通过Dockerfile文件构建镜像")]),e._v(" "),a("h2",{attrs:{id:"dockerfile是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile是什么"}},[e._v("#")]),e._v(" Dockerfile是什么？")]),e._v(" "),a("p",[e._v("Dockerfile是用来构建镜像的文本文件，通过Dockerfile的格式，按顺序编写脚本，编译之后，通过脚本的顺序执行对应的指令，构建一个镜像。")]),e._v(" "),a("h2",{attrs:{id:"dockerfile关键字"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile关键字"}},[e._v("#")]),e._v(" Dockerfile关键字")]),e._v(" "),a("p",[e._v("Dockerfile书写需要注意，对于Dockerfile保留的关键字需要全部大写，且后边必须有至少一个字符，否则将报错。\n以下是Dockerfile的保留关键字和解释")]),e._v(" "),a("div",{staticClass:"language-tex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-tex"}},[a("code",[e._v("FROM：基础镜像，当前镜像是基于FROM指定的对象构建的\nMAINTAINER：镜像维护者的姓名和邮箱地址\nRUN：容器构建时需要执行的指令\nEXPOSE：当前容器对外暴露的端口\nWORKDIR：指定在创建容器后，终端默认登录进来的工作目录\nENV：用来在构建镜像过程中设置环境变量\nADD：将宿主机目录下的文件拷贝到镜像中，且ADD命令会自动处理URL和解压tar压缩包\nCOPY：类似ADD，拷贝文件或目录到镜像中。将从构建上下文目录中<源路径>的文件/目录复制到新的一层的镜像内的<目标路径>位置\nVOLUME：容器数据卷，用于数据保存和持久化工作（指定目录中的文件数据，将会与默认的宿主机文件目录象关联，默认路径可通过`docker inspect Name|ID` 查看）\nCMD：指定容器启动时要运行的命令；dockerfile中可以有多个CMD指令，但只有最后一个生效，CMD会被docker run之后的参数替换\nENTRYPOINT：指定容器启动时要执行的命令；ENTRYPOINT的目的和CMD一样，但是CMD会被docker run之后的参数替换，而ENTRYPOINT会将docker run之后的参数进行拼接到命令中\nONBUILD：当构建一个被继承的dockerfile时运行命令，父镜像被子镜像继承后，父镜像的onbuild被触发\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br")])]),a("h2",{attrs:{id:"dockerfile构建镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile构建镜像"}},[e._v("#")]),e._v(" Dockerfile构建镜像")]),e._v(" "),a("p",[e._v("当编写好Dockerfile文件之后，通过指令对Dockerfile进行构建，创建一个新的镜像")]),e._v(" "),a("blockquote",[a("p",[e._v("镜像："),a("code",[e._v("docker build -f /dockerfilePath/dockerfile -t imageName[:TAG] .")])])]),e._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[e._v("#")]),e._v(" 总结")]),e._v(" "),a("p",[e._v("dockerfile构建镜像，可以按照自己的意愿构建镜像，如Java程序镜像，或者其他的镜像内容。")])])}),[],!1,null,null,null);r.default=t.exports}}]);